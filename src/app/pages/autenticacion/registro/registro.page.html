<app-header titulo="Registro"></app-header>



<ion-content class="dark-theme">
  <form [formGroup]="form" (ngSubmit)="submit()" (keypress.enter)="submit()">
    <ion-card class="dark-theme">
      <!--          Email con validaciones         -->
      <app-input-clientes 
      autocomplete="name" 
      icon="person-outline" 
      [control]="form.controls.name" 
      type="text"
      label="Nombre">
      </app-input-clientes>
      <!--El mensjae se mostrara cuando el name tenga un error o toco el input-->
      <div class="msj-validacion" *ngIf="form.controls.name.errors && form.controls.name.touched">
        <!--Aqui decimos que tipo de error es, en nuestro casoi son dos (ver en ts)-->
        <div *ngIf="form.controls.name.errors?.['required']">El nombre es requerido</div>
        <div *ngIf="form.controls.name.errors?.['minLenght']">AL menos debe tener 4 caracteres</div>
      </div>
      <!--          Email con validaciones         -->
      <app-input-clientes autocomplete="email" icon="mail-outline" [control]="form.controls.email" type="email"
        label="Correo">
      </app-input-clientes>
      <!--El mensjae se mostrara cuando el email tenga un error o toco el input-->
      <div class="msj-validacion" *ngIf="form.controls.email.errors && form.controls.email.touched">
        <!--Aqui decimos que tipo de error es, en nuestro casoi son dos (ver en ts)-->
        <div *ngIf="form.controls.email.errors?.['required']">El correo es requerido</div>
        <div *ngIf="form.controls.email.errors?.['email']">Ingrese correo válido</div>
      </div>
      <!--              Contraseña y su validacion           -->
      <app-input-clientes [control]="form.controls.contrasena" icon="lock-closed-outline" type="password"
        label="Contrasena"></app-input-clientes>
      <div class="msj-validacion" *ngIf="form.controls.contrasena.errors && form.controls.contrasena.touched">
        <div *ngIf="form.controls.contrasena.errors?.['required']">El contraseña es requerida</div>
      </div>

      <ion-item>
        <ion-button class="animated-button" routerLink="/home" expand="block" mode="ios"  type="submit"
          [disabled]="form.invalid">
          Registrarse
          <ion-icon slot="start" name="person-add-outline"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-card>
  </form>
</ion-content>